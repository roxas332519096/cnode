webpackJsonp([1],{FZpj:function(t,a){},FmIq:function(t,a){},LVDx:function(t,a){},NHnr:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("7+uW"),n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header"},[s("a",{attrs:{href:"/"}},[s("img",{attrs:{src:"//o4j806krb.qnssl.com/public/images/cnodejs_light.svg",alt:""}})]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"/"}},[t._v("首页")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://cnodejs.org/getstart",target:"_blank"}},[t._v("新手入门")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://cnodejs.org/api",target:"_blank"}},[t._v("API")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://cnodejs.org/about",target:"_blank"}},[t._v("关于")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[t._v("注册")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[t._v("登录")])])])])}]};var i={name:"App",components:{headerbar:s("VU/8")({name:"headerbar",data:function(){return{}}},n,!1,function(t){s("FmIq")},"data-v-5aa77bbc",null).exports}},r={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("headerbar"),this._v(" "),a("main",[a("router-view",{attrs:{name:"main"}}),this._v(" "),a("router-view",{attrs:{name:"aside"}})],1)],1)},staticRenderFns:[]};var o=s("VU/8")(i,r,!1,function(t){s("n/7+")},null,null).exports,c=s("mtWM"),l=s.n(c),u=s("/ocq"),_={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("ul",[s("li",[s("button",{staticClass:"pagebtn",on:{click:function(a){t.toPage(1)}}},[t._v("首页")])]),t._v(" "),s("li",[s("button",{staticClass:"pagebtn",on:{click:function(a){t.toPage(t.currentPage-1)}}},[t._v("上一页")])]),t._v(" "),s("li",t._l(t.pagebtns,function(a){return s("button",{class:[{currentPage:a===t.currentPage,point:"..."===a},"pagebtn"],on:{click:function(s){t.toPage(a)}}},[t._v("\n                "+t._s(a)+"\n            ")])})),t._v(" "),s("li",[s("button",{staticClass:"pagebtn",on:{click:function(a){t.toPage(t.currentPage+1)}}},[t._v("下一页")])])])])},staticRenderFns:[]};var v={name:"postList",data:function(){return{posts:[],page:1,tab:""}},components:{pagetab:s("VU/8")({name:"pagetab",data:function(){return{pagebtns:[1,2,3,4,5,"..."],currentPage:1}},methods:{toPage:function(t){1===t?this.pagebtns=[1,2,3,4,5,"..."]:t>1&&t<4?this.pagebtns=["...",t,t+1,t+2,t+3,"..."]:t>4&&(this.pagebtns=["...",t-1,t,t+1,t+2,"..."]),this.currentPage=t,this.$emit("pagechange",t)}}},_,!1,function(t){s("Nbxa")},"data-v-57daa7c4",null).exports},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/topics",{params:{page:this.page,limit:40,tab:this.tab}}).then(function(a){for(var s=a.data.data,e=0;e<s.length;e++)t.$set(t.posts,e,{id:s[e].id,touxiang:s[e].author.avatar_url,reply:s[e].reply_count,visit:s[e].visit_count,title:s[e].title,time:s[e].last_reply_at,tab:s[e].tab,good:s[e].good,top:s[e].top,username:s[e].author.loginname})}).catch(function(t){console.log(t)})},pages:function(t){this.page=t},tabs:function(t){this.tab=t}},watch:{page:function(){this.getData()},tab:function(){this.getData()}},beforeMount:function(){this.getData()}},p={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"postlists"},[s("div",{staticClass:"tab"},[s("ul",[s("li",[s("a",{class:{active:!t.tab},attrs:{href:"#"},on:{click:function(a){t.tabs(null)}}},[t._v("全部")])]),t._v(" "),s("li",[s("a",{class:{active:"good"===t.tab},attrs:{href:"#"},on:{click:function(a){t.tabs("good")}}},[t._v("精华")])]),t._v(" "),s("li",[s("a",{class:{active:"share"===t.tab},attrs:{href:"#"},on:{click:function(a){t.tabs("share")}}},[t._v("分享")])]),t._v(" "),s("li",[s("a",{class:{active:"ask"===t.tab},attrs:{href:"#"},on:{click:function(a){t.tabs("ask")}}},[t._v("回答")])]),t._v(" "),s("li",[s("a",{class:{active:"job"===t.tab},attrs:{href:"#"},on:{click:function(a){t.tabs("job")}}},[t._v("招聘")])])])]),t._v(" "),s("div",{staticClass:"postlist"},[s("ul",t._l(t.posts,function(a){return s("li",{key:a.id},[s("router-link",{attrs:{to:{name:"userinfo",params:{username:a.username}}}},[s("img",{attrs:{src:a.touxiang,alt:""}})]),t._v(" "),s("div",{staticClass:"post"},[s("span",{staticClass:"count"},[s("span",{staticClass:"reply"},[t._v(t._s(a.reply)+"/")]),t._v(" "),s("span",{staticClass:"visit"},[t._v(t._s(a.visit))])]),t._v(" "),a.top?s("span",{staticClass:"tabs top"},[s("span",[t._v("置顶")])]):a.good?s("span",{staticClass:"tabs good"},[s("span",[t._v("精华")])]):s("span",{staticClass:"tabs"},["ask"===a.tab?s("span",[t._v("问答")]):"share"===a.tab?s("span",[t._v("分享")]):s("span",[t._v("招聘")])]),t._v(" "),s("router-link",{staticClass:"title",attrs:{to:{name:"post",params:{id:a.id,username:a.username}}}},[t._v("\n                        "+t._s(t._f("Title")(a.title))+"\n                    ")])],1),t._v(" "),s("span",{staticClass:"time"},[t._v("\n                    "+t._s(t._f("Date")(a.time))+"\n                ")])],1)}))]),t._v(" "),s("pagetab",{on:{pagechange:function(a){t.pages(a)}}})],1)},staticRenderFns:[]};var m=s("VU/8")(v,p,!1,function(t){s("PO0Y")},"data-v-d0120c80",null).exports,d={name:"post",data:function(){return{post:{author:{loginname:"xxx"}}}},methods:{getData:function(t){var a=this;this.$http.get("https://cnodejs.org/api/v1/topic/"+t).then(function(t){a.post=t.data.data}).catch(function(t){console.log(t)})}},watch:{$route:function(t,a){this.getData(t.params.id)}},beforeMount:function(){this.getData(this.$route.params.id)}},f={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"article"},[s("header",[s("div",{staticClass:"top"},[t.post.top?s("span",{staticClass:"tabs top"},[s("span",[t._v("置顶")])]):t.post.good?s("span",{staticClass:"tabs good"},[s("span",[t._v("精华")])]):t._e(),t._v(" "),s("span",{staticClass:"title"},[t._v(t._s(t.post.title))])]),t._v(" "),s("div",{staticClass:"messages"},[s("span",[t._v("\n                •发布于 "+t._s(t._f("Date")(t.post.create_at))+"\n            ")]),t._v(" "),s("router-link",{attrs:{to:{name:"userinfo",params:{username:t.post.author.loginname}}}},[t._v("\n                •作者 "+t._s(t.post.author.loginname)+"\n            ")]),t._v(" "),s("span",[t._v("\n                •"+t._s(t.post.visit_count)+" 次浏览\n            ")]),t._v(" "),s("span",[t._v("\n                •最后一次编辑是 "+t._s(t._f("Date")(t.post.last_reply_at))+"\n            ")]),t._v(" "),"share"===t.post.tab?s("span",[t._v("\n                •来自 分享\n            ")]):"job"===t.post.tab?s("span",[t._v("\n                •来自 招聘\n            ")]):s("span",[t._v("\n                •来自 问答\n            ")])],1)]),t._v(" "),s("main",{domProps:{innerHTML:t._s(t.post.content)}}),t._v(" "),s("div",{staticClass:"reply"},[s("div",{staticClass:"bar"},[t._v("回复")]),t._v(" "),s("ul",t._l(t.post.replies,function(a,e){return s("li",{key:e},[s("router-link",{attrs:{to:{name:"userinfo",params:{username:a.author.loginname}}}},[s("img",{attrs:{src:a.author.avatar_url,alt:""}})]),t._v(" "),s("div",{staticClass:"replyContainer"},[s("div",{staticClass:"usermsg"},[s("router-link",{staticClass:"username",attrs:{to:{name:"userinfo",params:{username:a.author.loginname}}}},[t._v(t._s(a.author.loginname))]),t._v(" "),s("span",{staticClass:"floot"},[t._v(t._s(e+1)+"楼•")]),t._v(" "),s("span",{staticClass:"time"},[t._v(t._s(t._f("Date")(a.create_at)))]),t._v(" "),s("span",{staticClass:"good"},[t._v("赞")]),t._v(" "),a.ups.length>0?s("span",[t._v("\n                            "+t._s(a.ups.length)+"\n                        ")]):t._e()],1),t._v(" "),s("div",{staticClass:"replyContent",domProps:{innerHTML:t._s(a.content)}})])],1)}))])])},staticRenderFns:[]};var h=s("VU/8")(d,f,!1,function(t){s("aOGm")},"data-v-3644314f",null).exports,g={data:function(){return{user:{}}},methods:{getData:function(t){var a=this;this.$http.get("https://cnodejs.org/api/v1/user/"+t).then(function(t){a.user=t.data.data}).catch(function(t){console.log(t)})}},beforeMount:function(){this.getData(this.$route.params.username)}},b={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"userinfo"},[s("div",{staticClass:"user"},[t._m(0),t._v(" "),s("div",{staticClass:"usermsg"},[s("div",{staticClass:"login"},[s("img",{attrs:{src:t.user.avatar_url,alt:""}}),t._v(" "),s("span",[t._v(t._s(t.user.loginname))])]),t._v(" "),s("div",{staticClass:"point"},[t._v(t._s(t.user.score)+" 积分")]),t._v(" "),s("div",{staticClass:"github"},[s("a",{attrs:{href:"https://github.com/"+t.user.githubUsername}},[t._v("@"+t._s(t.user.githubUsername))])]),t._v(" "),s("div",{staticClass:"creatat"},[t._v("注册时间 "+t._s(t._f("Date")(t.user.create_at)))])])]),t._v(" "),s("div",{staticClass:"create"},[s("div",{staticClass:"tab"},[t._v("最近创建话题")]),t._v(" "),s("div",{staticClass:"postlist"},[s("ul",t._l(t.user.recent_topics,function(a,e){return e<5?s("li",{key:a.id},[s("a",{attrs:{href:"#"}},[s("img",{attrs:{src:a.author.avatar_url,alt:""}})]),t._v(" "),s("div",{staticClass:"post"},[s("router-link",{staticClass:"title",attrs:{to:{name:"post",params:{id:a.id,username:a.author.loginname}}}},[t._v("\n                            "+t._s(t._f("Title")(a.title))+"\n                        ")])],1),t._v(" "),s("span",{staticClass:"time"},[t._v("\n                        "+t._s(t._f("Date")(a.last_reply_at))+"\n                    ")])]):t._e()}))])]),t._v(" "),s("div",{staticClass:"reply"},[s("div",{staticClass:"tab"},[t._v("最近参与话题")]),t._v(" "),s("div",{staticClass:"postlist"},[s("ul",t._l(t.user.recent_replies,function(a){return s("li",{key:a.id},[s("a",{attrs:{href:"#"}},[s("img",{attrs:{src:a.author.avatar_url,alt:""}})]),t._v(" "),s("div",{staticClass:"post"},[s("router-link",{staticClass:"title",attrs:{to:{name:"post",params:{id:a.id,username:a.author.loginname}}}},[t._v("\n                            "+t._s(t._f("Title")(a.title))+"\n                        ")])],1),t._v(" "),s("span",{staticClass:"time"},[t._v("\n                        "+t._s(t._f("Date")(a.last_reply_at))+"\n                    ")])])}))])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"tab"},[a("a",{attrs:{href:"/"}},[this._v("主页")]),a("span",[this._v(" /")])])}]};var C=s("VU/8")(g,b,!1,function(t){s("LVDx")},"data-v-c450932c",null).exports,k={data:function(){return{user:{}}},methods:{getData:function(t){var a=this;this.$http.get("https://cnodejs.org/api/v1/user/"+t).then(function(t){a.user=t.data.data}).catch(function(t){console.log(t)})}},watch:{$route:function(t,a){this.getData(t.params.username)}},beforeMount:function(){this.getData(this.$route.params.username)}},D={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"slidebar"},[s("div",{staticClass:"contanier"},[s("div",{staticClass:"bar"},[t._v("\n            作者\n        ")]),t._v(" "),s("router-link",{attrs:{to:{name:"userinfo",params:{username:t.user.loginname}}}},[s("img",{attrs:{src:t.user.avatar_url,alt:""}})]),t._v(" "),s("router-link",{attrs:{to:{name:"userinfo",params:{username:t.user.loginname}}}},[t._v("\n            "+t._s(t.user.loginname)+"\n        ")]),t._v(" "),s("span",{staticClass:"score"},[t._v("积分 "+t._s(t.user.score))])],1),t._v(" "),s("div",{staticClass:"contanier"},[s("div",{staticClass:"bar"},[t._v("最近创建话题")]),t._v(" "),s("ul",t._l(t.user.recent_topics,function(a,e){return e<5?s("li",{key:a.id},[s("router-link",{staticClass:"title",attrs:{to:{name:"post",params:{id:a.id,username:a.author.loginname}}}},[t._v("\n                    "+t._s(t._f("Title")(a.title))+"\n                ")])],1):t._e()}))]),t._v(" "),s("div",{staticClass:"contanier"},[s("div",{staticClass:"bar"},[t._v("最近参与话题")]),t._v(" "),s("ul",t._l(t.user.recent_replies,function(a,e){return e<5?s("li",{key:a.id},[s("router-link",{staticClass:"title",attrs:{to:{name:"post",params:{id:a.id,username:a.author.loginname}}}},[t._v("\n                    "+t._s(t._f("Title")(a.title))+"\n                ")])],1):t._e()}))])])},staticRenderFns:[]};var $=s("VU/8")(k,D,!1,function(t){s("FZpj")},"data-v-35a2c36f",null).exports;e.a.use(u.a);var y=new u.a({routes:[{name:"root",path:"/",components:{main:m}},{name:"post",path:"/post/:id&author=:username",components:{main:h,aside:$}},{name:"userinfo",path:"/user/:username",components:{main:C}}]});e.a.prototype.$http=l.a,e.a.config.productionTip=!1,e.a.filter("Date",function(t){if(!t)return"";var a=new Date(t),s=(new Date).getTime()-a.getTime();return s<0?"":s/1e3<30?"刚刚":s/1e3<60?parseInt(s/1e3)+"秒前":s/6e4<60?parseInt(s/6e4)+"分钟前":s/36e5<24?parseInt(s/36e5)+"小时前":s/864e5<31?parseInt(s/864e5)+"天时前":s/2592e6<12?parseInt(s/2592e6)+"月前":parseInt(s/31536e6)+"年前"}),e.a.filter("Title",function(t){return t.length>70?t.substring(0,70)+"...":t}),new e.a({el:"#app",components:{App:o},template:"<App/>",router:y})},Nbxa:function(t,a){},PO0Y:function(t,a){},aOGm:function(t,a){},"n/7+":function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.d6b4e4a4e09495dec2ad.js.map